/** qooxdoo v4.0 | (c) 2013 1&1 Internet AG, http://1und1.de | http://qooxdoo.org/license */
(function(){
if (!window.qx) window.qx = qxWeb.$$qx;
var qx = window.qx;

if (!qx.$$environment) qx.$$environment = {};
var envinfo = {"json":true,"qx.application":"library.Application","qx.debug":false,"qx.debug.databinding":false,"qx.debug.dispose":false,"qx.debug.io":false,"qx.debug.ui.queue":false,"qx.globalErrorHandling":false,"qx.optimization.basecalls":true,"qx.optimization.comments":true,"qx.optimization.statics":true,"qx.optimization.strings":true,"qx.optimization.variables":true,"qx.optimization.variants":true,"qx.optimization.whitespace":true,"qx.revision":"master:b1097e3","qx.theme":"qx.theme.Modern","qx.version":"4.0"};
for (var k in envinfo) qx.$$environment[k] = envinfo[k];

qx.$$packageData = {};

/** qooxdoo v4.0 | (c) 2013 1&1 Internet AG, http://1und1.de | http://qooxdoo.org/license */
qx.$$packageData['0']={"locales":{},"resources":{},"translations":{"C":{},"en":{}}};
(function(){var a="qx.module.dev.FakeServer";qx.Bootstrap.define(a,{statics:{configure:function(b){qx.dev.FakeServer.getInstance().configure(b);},removeResponse:function(d,c){qx.dev.FakeServer.getInstance().removeResponse(d,c);},addFilter:function(e){qx.dev.FakeServer.getInstance().addFilter(e);},removeFilter:function(f){qx.dev.FakeServer.getInstance().removeFilter(f);},respondWith:function(i,h,g){qx.dev.FakeServer.getInstance().respondWith(i,h,g);},getFakeServer:function(){return qx.dev.FakeServer.getInstance().getFakeServer();},restore:function(){qx.dev.FakeServer.getInstance().restore();}},defer:function(j){qxWeb.$attachStatic({"dev":{"fakeServer":{"configure":j.configure,"removeResponse":j.removeResponse,"addFilter":j.addFilter,"removeFilter":j.removeFilter,"respondWith":j.respondWith,"getFakeServer":j.getFakeServer,"restore":j.restore}}});}});})();(function(){var a=" is a singleton! It is not possible to instantiate it directly.",b="qx.dev.FakeServer",c=".*?",d="Use the static getInstance() method instead.";qx.Bootstrap.define(b,{extend:Object,construct:function(){var f=qx.dev.FakeServer;if(!f.$$allowconstruct){var e=f+a+d;throw new Error(e);};this.getFakeServer();this.__responses=[];},statics:{$$instance:null,$$allowconstruct:false,getInstance:function(){if(!this.$$instance){this.$$allowconstruct=true;this.$$instance=new this();delete this.$$allowconstruct;};return this.$$instance;}},members:{__sinon:null,__fakeServer:null,__responses:null,__filter:null,configure:function(h){h.forEach(function(n){var o=n.url instanceof RegExp?n.url:this._getRegExp(n.url);var m=[n.method,o];var k=false;for(var i=0,l=this.__responses.length;i<l;i++ ){var j=this.__responses[i];k=(j[0]==m[0]&&j[1]==m[1]);};if(!k){this.__responses.push(m);};this.respondWith(n.method,o,n.response);}.bind(this));var g=this.__filter=this.__getCombinedFilter();this.addFilter(g);},addFilter:function(p){{};this.__sinon.FakeXMLHttpRequest.addFilter(p);},removeFilter:function(q){qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters,q);},removeResponse:function(t,r){qx.lang.Array.remove(this.__sinon.FakeXMLHttpRequest.filters,this.__filter);var s=r instanceof RegExp?r:this._getRegExp(r);this.__responses=this.__responses.filter(function(u){return (u[0]!=t||u[1].toString()!=s.toString());});this.__fakeServer.responses=this.__fakeServer.responses.filter(function(v){return (v.method!=t||v.url.toString()!=s.toString());});this.removeFilter(this.__filter);this.__filter=this.__getCombinedFilter();this.addFilter(this.__filter);},respondWith:function(y,x,w){this.__fakeServer.respondWith(y,x,w);},getFakeServer:function(){if(!this.__fakeServer){var z=this.__sinon=qx.dev.unit.Sinon.getSinon();z.FakeXMLHttpRequest.useFilters=true;this.__fakeServer=z.sandbox.useFakeServer();this.__fakeServer.autoRespond=true;};return this.__fakeServer;},restore:function(){this.__responses=[];this.removeFilter(this.__filter);this.__filter=null;this.__fakeServer.restore();this.__fakeServer=null;this.getFakeServer();},_getRegExp:function(A){A=A.replace(/\{[^\/]*?\}/g,c);return new RegExp(A);},__getCombinedFilter:function(){var B=this.__responses;return function(I,D,F,C,H){for(var i=0,l=B.length;i<l;i++ ){var E=B[i][0];var G=B[i][1];if(I==E&&G.test(D)){return false;};};return true;};}},destruct:function(){this.restore();this.__fakeServer=this.__sinon=null;}});})();(function(){var c="html:",d="./sinon/mock",g="expected %n to always be called with match %*%C",n="truthy",q='withCredentials',r="loadstart",s="at most ",t="\r\n",u="%",v="clearInterval",w="Not Acceptable",x='create',y="Expectation met: ",z="stub#",A="INVALID_STATE_ERR - ",B="./sinon/sandbox",C="match",D="notCalled",E="stubbed",G="inherit",H='\n--------------\n',I="Requested Range Not Satisfiable",J="Date",K="expectedArguments",L='Async',M=" property ",N="expected %n to always be called with %1 as this but was called with %t",O="falsy",P="clock",Q="calledOnce",R="', but no object with such a property was passed.",S="Payment Required",T='$2',U="calledWithMatch",V="expected %n to be called thrice but was called %c%C",W="[object Date]",X="{\n  ",Y=" cannot yield since it was not yet invoked.",ba=":",bb="(",bc="sinon.testCase needs an object with test functions",bd="called",be="readystatechange",bf="Callback must be provided to timer calls",bg="loadend",bh="[object Window]",bi="object is null",bj="overrideMimeType",bk="hasOwn",bl="calledWith",bm="Matcher was not a string, a number, a ",bn=",\n  ",bo="error",bp="=\"",bq="Precondition Failed",br="progress",bs="./util/fake_timers",bt="Use Proxy",bu="any",bv="tick only understands numbers and 'h:m:s'",bw="_",bx="Forbidden",by="contenteditable",bz="./sinon/test",bA="Request Timeout",bB="Found",bC="expected %n to never be called with match %*%C",bD="expected %n to always be called with exact arguments %*%C",bE="Fake XHR onreadystatechange handler",bF=" which is already wrapped",bG="called in order but were called as ",bH="Method Not Allowed",bI=" received no arguments, expected ",bJ=", [...",bK=" and at most ",bL=']',bM=" Received [",bN="function, a boolean or an object",bO="Temporary Redirect",bP="Not Found",bQ="expected %n to be called with new",bR=" already called ",bS=";",bT="alwaysCalledWithExactly",bU="    ",bV="Content-Type",bW='withArgs',bX="undefined",bY=" cannot call arg since it was not yet invoked.",ca=" as thisValue, expected ",cb="thrice",cc="notCalledWithMatch",cd="yieldOn",ce="../sinon",cf="array",cg="Expectation Failed",ch="responseXML",ci="Gone",cj=" is not stubbed",ck="Bad Request",cl="Unauthorized",cm="open",cn="send",co=" times",cp="expected %n to be called twice but was called %c%C",cq=", expected ",cr="The constructor should be a function.",cs="{ ",ct="toString",cu="number",cv="Request Entity Too Large",cw="expected %n to be called with match %*%C",cx="INVALID_STATE_ERR",cy="[",cz="Attempted to wrap ",cA="samsam",cB="./sinon/behavior",cC="alwaysCalledOn",cD="ExpectationError",cE="Matcher expected",cF="Unsupported Media Type",cG="yield",cH="p = (function proxy(",cI="Method wrapper should be function",cJ="argument context is not an object",cK='object',cL="once",cM="Expected type of ",cN='"',cO="null",cP="' is not number",cQ="(\"",cR=", which is not a string.",cS="stub",cT="[, ...",cU=";charset=utf-8",cV="expected %n to always be called with new",cW="AssertError",cX='$1',cY="MSXML2.XMLHTTP.3.0",da="mock",db="util",dc="setTimeout",dd="verify",de="addEventListener",df="function",dg="\n\n",dh=")",di="Should wrap property of object",dj="Invalid time ",dk="expected value to match",dl="text/plain;charset=utf-8",dm="Moved Permanently",dn="Multiple Choice",dp=" received too many arguments (",dq="%n did not throw exception%C",dr="assert",ds="Continue",dt="Unexpected call: ",du="server",dv="' since no callback was passed.",dw="yieldTo",dx="callArgWith",dy=", didn't match ",dz="export",dA="Not Modified",dB="    expected = ",dC="'",dD='Stack Trace for original',dE=" threw exception: ",dF="called ",dG="Unprocessable Entity",dH="expected ",dI=" is not a function",dJ="threw",dK="    actual = ",dL="method is falsy",dM="Expected ",dN="Switching Protocols",dO="clearTimeout",dP="a,b,c,d,e,f,g,h,i,j,k,l",dQ=".and(",dR="boolean",dS="[object Array]",dT="restore",dU="formatio",dV="Proxy Authentication Required",dW="expected %n to be called with %1 as this but was called with %t",dX="neverCalledWith",dY="alwaysReturned",ea="calledWithExactly",eb="div",ec=" but was called %c%C",ed="), expected ",ee=", ",ef="type",eg="<",eh="setInterval",ei='number',ej="-0",ek="same(",el="\n",em=") { return p.invoke(func, this, slice.call(arguments)); });",en="./sinon/test_case",eo="OK",ep=" received too few arguments (",eq="expected %n to be called once but was called %c%C",er="fake is not a spy",es="expectedThis",et="twice",eu="sinon fake",ev="sinon.test needs to wrap a test function, got ",ew="InvalidBodyException",ex="./sinon/spy",ey="match(",ez="expected %n to be called with arguments %*%C",eA="callArgOnWith",eB="expected %n to never be called with arguments %*%C",eC="text/xml",eD="argument at index ",eE="calledOn",eF=" => ",eG="setRequestHeader",eH="Gateway Timeout",eI="spy",eJ="calledWithNew",eK='undefined',eL="[object HTMLDocument]",eM=" expected to yield to '",eN="target is null or undefined",eO="calledThrice",eP="callCount",eQ="spy#",eR="%n did not always throw exception%C",eS="Error",eT="regexp",eU="./sinon/stub",eV="typeOf(\"",eW="Request:\n",eX='progress',eY="expected %n to always be called with arguments %*%C",fa="status",fb="./sinon/call",fc="on",fd="getResponseHeader",fe="\"",ff="at least ",fg="[object global]",fh='invoke',fi="./sinon/collection",fj="anonymous mock expectation",fk=" cannot yield to '",fl="now should be milliseconds since UNIX epoch",fm="alwaysThrew",fo="Array",fp="}",fq="Bad Gateway",fr="\")",fs="clearImmediate",ft="",fu="yieldToOn",fv="]",fw="has",fx=", but was ",fy="expected %n to not have been called but was called %c%C",fz=" }",fA="Response:\n",fB="Reset Content",fC="' is not a number",fD="sandbox",fE="Call id is not a number",fF="Non-Authoritative Information",fG="Not Implemented",fH="./sinon/assert",fI="Length Required",fJ="Fake server response body should be string, but was ",fK="./match",fL='function',fM="property",fN="load",fO="Service Unavailable",fP="//",fQ=" to be ",fR="callArg",fS="test",fT="Conflict",fU=" received wrong arguments ",fV="alwaysCalledWithNew",fW="Anonymous mock",fX=" is not a function: ",fY="Refused to set unsafe header \"",ga="</",gb='Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. ',gc="neverCalledWithMatch",gd="match(\"",ge="string",gf="Function requires at least 1 parameter",gg="defined",gh="removeEventListener",gi="returned",gj="Object",gk="[...]",gl="Fake server request processing",gm=" called with ",gn="() {}",go="expected %n to have been called at least once but was never called",gp="instanceOf(",gq="Request-URI Too Long",gr=".or(",gs="alwaysCalledWith",gt='Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.',gu="alwaysCalledWithMatch",gv=" ",gw="No Content",gx="^",gy="callOrder",gz="responseText",gA="Created",gB="argument index is not number",gC="requests",gD="statusText",gE="calledTwice",gF="abort",gG="qx.dev.unit.Sinon",gH=": ",gI="setImmediate",gJ="No headers received",gK="Custom stub should be function",gL=" (",gM=" which is already ",gN="date",gO="spied on",gP="getAllResponseHeaders",gQ='[',gR="See Other",gS="Partial Content",gT="Accepted",gU="object",gV="Cannot stub non-existent own property ",gW="[Circular]",gX="callArgOn",gY=" cannot yield since no callback was passed.",ha="] ",hb="./sinon/match",hc="Internal Server Error",hd=">",he="expected %n to be called with exact arguments %*%C",hf=" as function",hg="function ",hh="Attempted to respond to fake XMLHttpRequest with ",hi=" !",hj="Request done",hk="Microsoft.XMLHTTP",hl="false",hm="notCalledWith",hn="expected %n to be called ",ho="Microsoft.XMLDOM",hp="' since it was not yet invoked.",hq=" expected to yield, but no callback was passed.",hr="HTTP Version Not Supported",hs="never called",ht=",";qx.Bootstrap.define(gG,{statics:{getSinon:null}});(function(){this.sinon=(function(){var samsam,formatio;function define(hw,hu,hv){if(hw==cA){samsam=hu();}else {formatio=hv(samsam);};};define.amd=true;((typeof define===df&&define.amd&&function(m){define(cA,m);})||(typeof module===gU&&function(m){module.exports=m();})||function(m){this.samsam=m();})(function(){var o=Object.prototype;var hF=typeof document!==bX&&document.createElement(eb);function isNaN(hI){var hJ=hI;return typeof hI===cu&&hI!==hJ;};function hy(hK){return o.toString.call(hK).split(/[ \]]/)[1];};function hH(hL){if(typeof hL!==gU||typeof hL.length!==cu||hy(hL)===fo){return false;};if(typeof hL.callee==df){return true;};try{hL[hL.length]=6;delete hL[hL.length];}catch(e){return true;};return false;};function hE(hM){if(!hM||hM.nodeType!==1||!hF){return false;};try{hM.appendChild(hF);hM.removeChild(hF);}catch(e){return false;};return true;};function hz(hO){var hN=[],hP;for(hP in hO){if(o.hasOwnProperty.call(hO,hP)){hN.push(hP);};};return hN;};function hA(hQ){return typeof hQ.getTime==df&&hQ.getTime()==hQ.valueOf();};function hD(hR){return hR===0&&1/hR===-Infinity;};function hx(hS,hT){if(hS===hT||(isNaN(hS)&&isNaN(hT))){return hS!==0||hD(hS)===hD(hT);};};function hC(hU,ia){var hX=[],hY=[],ic=[],ib=[],hW={};function ie(ig){if(typeof ig===cK&&ig!==null&&!(ig instanceof Boolean)&&!(ig instanceof Date)&&!(ig instanceof Number)&&!(ig instanceof RegExp)&&!(ig instanceof String)){return true;};return false;};function hV(ih,ii){var i;for(i=0;i<ih.length;i++ ){if(ih[i]===ii){return i;};};return -1;};return (function iG(iv,iw,iD,iC){var io=typeof iv;var ip=typeof iw;if(iv===iw||isNaN(iv)||isNaN(iw)||iv==null||iw==null||io!==gU||ip!==gU){return hx(iv,iw);};if(hE(iv)||hE(iw)){return false;};var im=hA(iv),il=hA(iw);if(im||il){if(!im||!il||iv.getTime()!==iw.getTime()){return false;};};if(iv instanceof RegExp&&iw instanceof RegExp){if(iv.toString()!==iw.toString()){return false;};};var iu=hy(iv);var it=hy(iw);var ix=hz(iv);var iy=hz(iw);if(hH(iv)||hH(iw)){if(iv.length!==iw.length){return false;};}else {if(io!==ip||iu!==it||ix.length!==iy.length){return false;};};var iz,i,l,ir,iq,ik,ij,iB,iA,iE,iF;for(i=0,l=ix.length;i<l;i++ ){iz=ix[i];if(!o.hasOwnProperty.call(iw,iz)){return false;};ir=iv[iz];iq=iw[iz];ik=ie(ir);ij=ie(iq);iB=ik?hV(hX,ir):-1;iA=ij?hV(hY,iq):-1;iE=iB!==-1?ic[iB]:iD+gQ+JSON.stringify(iz)+bL;iF=iA!==-1?ib[iA]:iC+gQ+JSON.stringify(iz)+bL;if(hW[iE+iF]){return true;};if(iB===-1&&ik){hX.push(ir);ic.push(iE);};if(iA===-1&&ij){hY.push(iq);ib.push(iF);};if(ik&&ij){hW[iE+iF]=true;};if(!iG(ir,iq,iE,iF)){return false;};};return true;}(hU,ia,cX,T));};var hG;function hB(iI,iH){if(iH.length===0){return true;};var i,l,j,k;for(i=0,l=iI.length;i<l; ++i){if(hG(iI[i],iH[0])){for(j=0,k=iH.length;j<k; ++j){if(!hG(iI[i+j],iH[j])){return false;};};return true;};};return false;};hG=function iM(iL,iK){if(iK&&typeof iK.test===df){return iK.test(iL);};if(typeof iK===df){return iK(iL)===true;};if(typeof iK===ge){iK=iK.toLowerCase();var iJ=typeof iL===ge||!!iL;return iJ&&(String(iL)).toLowerCase().indexOf(iK)>=0;};if(typeof iK===cu){return iK===iL;};if(typeof iK===dR){return iK===iL;};if(hy(iL)===fo&&hy(iK)===fo){return hB(iL,iK);};if(iK&&typeof iK===gU){var iN;for(iN in iK){if(!iM(iL[iN],iK[iN])){return false;};};return true;};throw new Error(bm+bN);};return {isArguments:hH,isElement:hE,isDate:hA,isNegZero:hD,identical:hx,deepEqual:hC,match:hG,keys:hz};});((typeof define===df&&define.amd&&function(m){define(dU,[cA],m);})||(typeof module===gU&&function(m){module.exports=m(require(cA));})||function(m){this.formatio=m(this.samsam);})(function(iR){var iT={excludeConstructors:[gj,/^.$/],quoteStrings:true};var iQ=[];if(typeof global!==bX){iQ.push({object:global,value:fg});};if(typeof document!==bX){iQ.push({object:document,value:eL});};if(typeof window!==bX){iQ.push({object:window,value:bh});};function iO(iX){if(!iX){return ft;};if(iX.displayName){return iX.displayName;};if(iX.name){return iX.name;};var iW=iX.toString().match(/function\s+([^\(]+)/m);return (iW&&iW[1])||ft;};function iP(f,ja){var name=iO(ja&&ja.constructor);var iY=f.excludeConstructors||iT.excludeConstructors||[];var i,l;for(i=0,l=iY.length;i<l; ++i){if(typeof iY[i]===ge&&iY[i]===name){return ft;}else if(iY[i].test&&iY[i].test(name)){return ft;};};return name;};function iS(jb,jc){if(typeof jb!==gU){return false;};var i,l;for(i=0,l=jc.length;i<l; ++i){if(jc[i]===jb){return true;};};return false;};function iV(f,jg,jh,je){if(typeof jg===ge){var jd=f.quoteStrings;var jf=typeof jd!==dR||jd;return jh||jf?cN+jg+cN:jg;};if(typeof jg===df&&!(jg instanceof RegExp)){return iV.func(jg);};jh=jh||[];if(iS(jg,jh)){return gW;};if(Object.prototype.toString.call(jg)===dS){return iV.array.call(f,jg,jh);};if(!jg){return String((1/jg)===-Infinity?ej:jg);};if(iR.isElement(jg)){return iV.element(jg);};if(typeof jg.toString===df&&jg.toString!==Object.prototype.toString){return jg.toString();};var i,l;for(i=0,l=iQ.length;i<l;i++ ){if(jg===iQ[i].object){return iQ[i].value;};};return iV.object.call(f,jg,jh,je);};iV.func=function(ji){return hg+iO(ji)+gn;};iV.array=function(jj,jk){jk=jk||[];jk.push(jj);var i,l,jl=[];for(i=0,l=jj.length;i<l; ++i){jl.push(iV(this,jj[i],jk));};return cy+jl.join(ee)+fv;};iV.object=function(jp,jt,jn){jt=jt||[];jt.push(jp);jn=jn||0;var jq=[],jw=iR.keys(jp).sort();var length=3;var jv,ju,js,i,l;for(i=0,l=jw.length;i<l; ++i){jv=jw[i];js=jp[jv];if(iS(js,jt)){ju=gW;}else {ju=iV(this,js,jt,jn+2);};ju=(/\s/.test(jv)?cN+jv+cN:jv)+gH+ju;length+=ju.length;jq.push(ju);};var jm=iP(this,jp);var jr=jm?cy+jm+ha:ft;var jo=ft;for(i=0,l=jn;i<l; ++i){jo+=gv;};if(length+jn>80){return jr+X+jo+jq.join(bn+jo)+el+jo+fp;};return jr+cs+jq.join(ee)+fz;};iV.element=function(jC){var jF=jC.tagName.toLowerCase();var jE=jC.attributes,jz,jy=[],jx,i,l,jA;for(i=0,l=jE.length;i<l; ++i){jz=jE.item(i);jx=jz.nodeName.toLowerCase().replace(c,ft);jA=jz.nodeValue;if(jx!==by||jA!==G){if(!!jA){jy.push(jx+bp+jA+fe);};};};var jD=eg+jF+(jy.length>0?gv:ft);var content=jC.innerHTML;if(content.length>20){content=content.substr(0,20)+gk;};var jB=jD+jy.join(gv)+hd+content+ga+jF+hd;return jB.replace(/ contentEditable="inherit"/,ft);};function iU(jH){for(var jG in jH){this[jG]=jH[jG];};};iU.prototype={functionName:iO,configure:function(jI){return new iU(jI);},constructorName:function(jJ){return iP(this,jJ);},ascii:function(jK,jM,jL){return iV(this,jK,jM,jL);}};return iU.prototype;});var sinon=(function(jP){var jX=typeof document!=bX&&document.createElement(eb);var jR=Object.prototype.hasOwnProperty;function jV(kc){var kd=false;try{kc.appendChild(jX);kd=jX.parentNode==kc;}catch(e){return false;}finally{try{kc.removeChild(jX);}catch(e){};};return kd;};function jW(ke){return jX&&ke&&ke.nodeType===1&&jV(ke);};function ka(kf){return typeof kf===df||!!(kf&&kf.constructor&&kf.call&&kf.apply);};function jO(kg){return typeof kg===ei&&isNaN(kg);};function kb(ki,kh){for(var kj in kh){if(!jR.call(ki,kj)){ki[kj]=kh[kj];};};};function jN(kk){return typeof kk===df&&typeof kk.restore===df&&kk.restore.sinon;};var jU={wrapMethod:function kl(km,kr,kt){if(!km){throw new TypeError(di);};if(typeof kt!=df){throw new TypeError(cI);};var kp=km[kr],kq;if(!ka(kp)){kq=new TypeError(cz+(typeof kp)+M+kr+hf);};if(kp.restore&&kp.restore.sinon){kq=new TypeError(cz+kr+bF);};if(kp.calledBefore){var ko=!!kp.returns?E:gO;kq=new TypeError(cz+kr+gM+ko);};if(kq){if(kp._stack){kq.stack+=H+kp._stack;};throw kq;};var kn=km.hasOwnProperty?km.hasOwnProperty(kr):jR.call(km,kr);km[kr]=kt;kt.displayName=kr;kt._stack=(new Error(dD)).stack;kt.restore=function(){if(!kn){delete km[kr];};if(km[kr]===kt){km[kr]=kp;};};kt.restore.sinon=true;kb(kt,kp);return kt;},extend:function kw(kv){for(var i=1,l=arguments.length;i<l;i+=1){for(var ku in arguments[i]){if(arguments[i].hasOwnProperty(ku)){kv[ku]=arguments[i][ku];};if(arguments[i].hasOwnProperty(ct)&&arguments[i].toString!=kv.toString){kv.toString=arguments[i].toString;};};};return kv;},create:function kx(ky){var F=function(){};F.prototype=ky;return new F();},deepEqual:function kD(a,b){if(jU.match&&jU.match.isMatcher(a)){return a.test(b);};if(typeof a!=cK||typeof b!=cK){if(jO(a)&&jO(b)){return true;}else {return a===b;};};if(jW(a)||jW(b)){return a===b;};if(a===b){return true;};if((a===null&&b!==null)||(a!==null&&b===null)){return false;};if(a instanceof RegExp&&b instanceof RegExp){return (a.source===b.source)&&(a.global===b.global)&&(a.ignoreCase===b.ignoreCase)&&(a.multiline===b.multiline);};var kA=Object.prototype.toString.call(a);if(kA!=Object.prototype.toString.call(b)){return false;};if(kA==W){return a.valueOf()===b.valueOf();};var kB,kC=0,kz=0;if(kA==dS&&a.length!==b.length){return false;};for(kB in a){kC+=1;if(!kD(a[kB],b[kB])){return false;};};for(kB in b){kz+=1;};return kC==kz;},functionName:function kF(kG){var name=kG.displayName||kG.name;if(!name){var kE=kG.toString().match(/function ([^\s\(]+)/);name=kE&&kE[1];};return name;},functionToString:function kH(){if(this.getCall&&this.callCount){var kI,kJ,i=this.callCount;while(i-- ){kI=this.getCall(i).thisValue;for(kJ in kI){if(kI[kJ]===this){return kJ;};};};};return this.displayName||eu;},getConfig:function(kK){var kL={};kK=kK||{};var kM=jU.defaultConfig;for(var kN in kM){if(kM.hasOwnProperty(kN)){kL[kN]=kK.hasOwnProperty(kN)?kK[kN]:kM[kN];};};return kL;},format:function(kO){return ft+kO;},defaultConfig:{injectIntoThis:true,injectInto:null,properties:[eI,cS,da,P,du,gC],useFakeTimers:true,useFakeServer:true},timesInWords:function kQ(kP){return kP==1&&cL||kP==2&&et||kP==3&&cb||(kP||0)+co;},calledInOrder:function(kR){for(var i=1,l=kR.length;i<l;i++ ){if(!kR[i-1].calledBefore(kR[i])||!kR[i].called){return false;};};return true;},orderByFirstCall:function(kS){return kS.sort(function(a,b){var kT=a.getCall(0);var kW=b.getCall(0);var kV=kT&&kT.callId||-1;var kU=kW&&kW.callId||-1;return kV<kU?-1:1;});},log:function(){},logError:function(la,kY){var kX=la+dE;jU.log(kX+cy+kY.name+ha+kY.message);if(kY.stack){jU.log(kY.stack);};setTimeout(function(){kY.message=kX+kY.message;throw kY;},0);},typeOf:function(lc){if(lc===null){return cO;}else if(lc===undefined){return bX;};var lb=Object.prototype.toString.call(lc);return lb.substring(8,lb.length-1).toLowerCase();},createStubInstance:function(ld){if(typeof ld!==df){throw new TypeError(cr);};return jU.stub(jU.create(ld.prototype));},restore:function(le){if(le!==null&&typeof le===gU){for(var lf in le){if(jN(le[lf])){le[lf].restore();};};}else if(jN(le)){le.restore();};}};var jQ=typeof module!==bX&&module.exports;var jT=typeof define===fL&&typeof define.amd===cK&&define.amd;if(jT){define(function(){return jU;});}else if(jQ){try{jP=require(dU);}catch(e){};module.exports=jU;module.exports.spy=require(ex);module.exports.spyCall=require(fb);module.exports.behavior=require(cB);module.exports.stub=require(eU);module.exports.mock=require(d);module.exports.collection=require(fi);module.exports.assert=require(fH);module.exports.sandbox=require(B);module.exports.test=require(bz);module.exports.testCase=require(en);module.exports.assert=require(fH);module.exports.match=require(hb);};if(jP){var jY=jP.configure({quoteStrings:false});jU.format=function(){return jY.ascii.apply(jY,arguments);};}else if(jQ){try{var jS=require(db);jU.format=function(lg){return typeof lg==gU&&lg.toString===Object.prototype.toString?jS.inspect(lg):lg;};}catch(e){};};return jU;}(typeof formatio==gU&&formatio));(function(lm){var lh=typeof module!==eK&&module.exports;if(!lm&&lh){lm=require(ce);};if(!lm){return;};function lk(lr,lp,name){var lq=lm.typeOf(lr);if(lq!==lp){throw new TypeError(cM+name+fQ+lp+fx+lq);};};var lj={toString:function(){return this.message;}};function ll(ls){return lj.isPrototypeOf(ls);};function li(lv,lu){if(lu===null||lu===undefined){return false;};for(var lw in lv){if(lv.hasOwnProperty(lw)){var lt=lv[lw];var lx=lu[lw];if(ln.isMatcher(lt)){if(!lt.test(lx)){return false;};}else if(lm.typeOf(lt)===gU){if(!li(lt,lx)){return false;};}else if(!lm.deepEqual(lt,lx)){return false;};};};return true;};lj.or=function(lA){if(!arguments.length){throw new TypeError(cE);}else if(!ll(lA)){lA=ln(lA);};var ly=this;var lz=lm.create(lj);lz.test=function(lB){return ly.test(lB)||lA.test(lB);};lz.message=ly.message+gr+lA.message+dh;return lz;};lj.and=function(lE){if(!arguments.length){throw new TypeError(cE);}else if(!ll(lE)){lE=ln(lE);};var lD=this;var lC=lm.create(lj);lC.test=function(lF){return lD.test(lF)&&lE.test(lF);};lC.message=lD.message+dQ+lE.message+dh;return lC;};var ln=function(lH,lJ){var m=lm.create(lj);var lK=lm.typeOf(lH);switch(lK){case gU:if(typeof lH.test===df){m.test=function(lL){return lH.test(lL)===true;};m.message=ey+lm.functionName(lH.test)+dh;return m;};var lG=[];for(var lI in lH){if(lH.hasOwnProperty(lI)){lG.push(lI+gH+lH[lI]);};};m.test=function(lM){return li(lH,lM);};m.message=ey+lG.join(ee)+dh;break;case cu:m.test=function(lN){return lH==lN;};break;case ge:m.test=function(lO){if(typeof lO!==ge){return false;};return lO.indexOf(lH)!==-1;};m.message=gd+lH+fr;break;case eT:m.test=function(lP){if(typeof lP!==ge){return false;};return lH.test(lP);};break;case df:m.test=lH;if(lJ){m.message=lJ;}else {m.message=ey+lm.functionName(lH)+dh;};break;default:m.test=function(lQ){return lm.deepEqual(lH,lQ);};};if(!m.message){m.message=ey+lH+dh;};return m;};ln.isMatcher=ll;ln.any=ln(function(){return true;},bu);ln.defined=ln(function(lR){return lR!==null&&lR!==undefined;},gg);ln.truthy=ln(function(lS){return !!lS;},n);ln.falsy=ln(function(lT){return !lT;},O);ln.same=function(lU){return ln(function(lV){return lU===lV;},ek+lU+dh);};ln.typeOf=function(lW){lk(lW,ge,ef);return ln(function(lX){return lm.typeOf(lX)===lW;},eV+lW+fr);};ln.instanceOf=function(lY){lk(lY,df,ef);return ln(function(ma){return ma instanceof lY;},gp+lm.functionName(lY)+dh);};function lo(mc,mb){return function(mf,mg){lk(mf,ge,fM);var md=arguments.length===1;var me=mb+cQ+mf+fe;if(!md){me+=ee+mg;};me+=dh;return ln(function(mh){if(mh===undefined||mh===null||!mc(mh,mf)){return false;};return md||lm.deepEqual(mg,mh[mf]);},me);};};ln.has=lo(function(mj,mi){if(typeof mj===gU){return mi in mj;};return mj[mi]!==undefined;},fw);ln.hasOwn=lo(function(ml,mk){return ml.hasOwnProperty(mk);},bk);ln.bool=ln.typeOf(dR);ln.number=ln.typeOf(cu);ln.string=ln.typeOf(ge);ln.object=ln.typeOf(gU);ln.func=ln.typeOf(df);ln.array=ln.typeOf(cf);ln.regexp=ln.typeOf(eT);ln.date=ln.typeOf(gN);if(lh){module.exports=ln;}else {lm.match=ln;};}(typeof sinon==gU&&sinon||null));(function(mq){var mm=typeof module!==eK&&module.exports;if(!mq&&mm){mq=require(ce);};if(!mq){return;};function mn(mw,mu,mv){var mt=mq.functionName(mw)+mu;if(mv.length){mt+=bM+mo.call(mv).join(ee)+fv;};throw new Error(mt);};var mo=Array.prototype.slice;var mr={calledOn:function mx(my){if(mq.match&&mq.match.isMatcher(my)){return my.test(this.thisValue);};return this.thisValue===my;},calledWith:function mz(){for(var i=0,l=arguments.length;i<l;i+=1){if(!mq.deepEqual(arguments[i],this.args[i])){return false;};};return true;},calledWithMatch:function mB(){for(var i=0,l=arguments.length;i<l;i+=1){var mA=this.args[i];var mC=arguments[i];if(!mq.match||!mq.match(mC).test(mA)){return false;};};return true;},calledWithExactly:function mD(){return arguments.length==this.args.length&&this.calledWith.apply(this,arguments);},notCalledWith:function mE(){return !this.calledWith.apply(this,arguments);},notCalledWithMatch:function mF(){return !this.calledWithMatch.apply(this,arguments);},returned:function mG(mH){return mq.deepEqual(mH,this.returnValue);},threw:function mI(mJ){if(typeof mJ===bX||!this.exception){return !!this.exception;};return this.exception===mJ||this.exception.name===mJ;},calledWithNew:function mK(){return this.proxy.prototype&&this.thisValue instanceof this.proxy;},calledBefore:function(mL){return this.callId<mL.callId;},calledAfter:function(mM){return this.callId>mM.callId;},callArg:function(mN){this.args[mN]();},callArgOn:function(mO,mP){this.args[mO].apply(mP);},callArgWith:function(mQ){this.callArgOnWith.apply(this,[mQ,null].concat(mo.call(arguments,1)));},callArgOnWith:function(mS,mT){var mR=mo.call(arguments,2);this.args[mS].apply(mT,mR);},"yield":function(){this.yieldOn.apply(this,[null].concat(mo.call(arguments,0)));},yieldOn:function(mV){var mU=this.args;for(var i=0,l=mU.length;i<l; ++i){if(typeof mU[i]===df){mU[i].apply(mV,mo.call(arguments,1));return;};};mn(this.proxy,gY,mU);},yieldTo:function(mW){this.yieldToOn.apply(this,[mW,null].concat(mo.call(arguments,1)));},yieldToOn:function(na,mY){var mX=this.args;for(var i=0,l=mX.length;i<l; ++i){if(mX[i]&&typeof mX[i][na]===df){mX[i][na].apply(mY,mo.call(arguments,2));return;};};mn(this.proxy,fk+na+dv,mX);},toString:function(){var nb=this.proxy.toString()+bb;var nc=[];for(var i=0,l=this.args.length;i<l; ++i){nc.push(mq.format(this.args[i]));};nb=nb+nc.join(ee)+dh;if(typeof this.returnValue!=bX){nb+=eF+mq.format(this.returnValue);};if(this.exception){nb+=hi+this.exception.name;if(this.exception.message){nb+=bb+this.exception.message+dh;};};return nb;}};mr.invokeCallback=mr.yield;function mp(nd,nf,nh,ni,ne,nj){if(typeof nj!==cu){throw new TypeError(fE);};var ng=mq.create(mr);ng.proxy=nd;ng.thisValue=nf;ng.args=nh;ng.returnValue=ni;ng.exception=ne;ng.callId=nj;return ng;};mp.toString=mr.toString;if(mm){module.exports=mp;}else {mq.spyCall=mp;};}(typeof sinon==gU&&sinon||null));(function(sinon){var commonJSModule=typeof module!==eK&&module.exports;var push=Array.prototype.push;var slice=Array.prototype.slice;var callId=0;if(!sinon&&commonJSModule){sinon=require(ce);};if(!sinon){return;};function spy(nm,nk){if(!nk&&typeof nm==df){return spy.create(nm);};if(!nm&&!nk){return spy.create(function(){});};var nl=nm[nk];return sinon.wrapMethod(nm,nk,spy.create(nl));};function matchingFake(np,no,nn){if(!np){return;};for(var i=0,l=np.length;i<l;i++ ){if(np[i].matches(no,nn)){return np[i];};};};function incrementCallCount(){this.called=true;this.callCount+=1;this.notCalled=false;this.calledOnce=this.callCount==1;this.calledTwice=this.callCount==2;this.calledThrice=this.callCount==3;};function createCallProperties(){this.firstCall=this.getCall(0);this.secondCall=this.getCall(1);this.thirdCall=this.getCall(2);this.lastCall=this.getCall(this.callCount-1);};var vars=dP;function createProxy(func){var p;if(func.length){eval(cH+vars.substring(0,func.length*2-1)+em);}else {p=function nq(){return p.invoke(func,this,slice.call(arguments));};};return p;};var uuid=0;var spyApi={reset:function(){this.called=false;this.notCalled=true;this.calledOnce=false;this.calledTwice=false;this.calledThrice=false;this.callCount=0;this.firstCall=null;this.secondCall=null;this.thirdCall=null;this.lastCall=null;this.args=[];this.returnValues=[];this.thisValues=[];this.exceptions=[];this.callIds=[];if(this.fakes){for(var i=0;i<this.fakes.length;i++ ){this.fakes[i].reset();};};},create:function nr(ns){var name;if(typeof ns!=df){ns=function(){};}else {name=sinon.functionName(ns);};var nt=createProxy(ns);sinon.extend(nt,spy);delete nt.create;sinon.extend(nt,ns);nt.reset();nt.prototype=ns.prototype;nt.displayName=name||eI;nt.toString=sinon.functionToString;nt._create=sinon.spy.create;nt.id=eQ+uuid++ ;return nt;},invoke:function nx(nv,nw,ny){var nB=matchingFake(this.fakes,ny);var nu,nA;incrementCallCount.call(this);push.call(this.thisValues,nw);push.call(this.args,ny);push.call(this.callIds,callId++ );try{if(nB){nA=nB.invoke(nv,nw,ny);}else {nA=(this.func||nv).apply(nw,ny);};var nz=this.getCall(this.callCount-1);if(nz.calledWithNew()&&typeof nA!==cK){nA=nw;};}catch(e){nu=e;};push.call(this.exceptions,nu);push.call(this.returnValues,nA);createCallProperties.call(this);if(nu!==undefined){throw nu;};return nA;},getCall:function nC(i){if(i<0||i>=this.callCount){return null;};return sinon.spyCall(this,this.thisValues[i],this.args[i],this.returnValues[i],this.exceptions[i],this.callIds[i]);},getCalls:function(){var nD=[];var i;for(i=0;i<this.callCount;i++ ){nD.push(this.getCall(i));};return nD;},calledBefore:function nE(nF){if(!this.called){return false;};if(!nF.called){return true;};return this.callIds[0]<nF.callIds[nF.callIds.length-1];},calledAfter:function nH(nG){if(!this.called||!nG.called){return false;};return this.callIds[this.callCount-1]>nG.callIds[nG.callCount-1];},withArgs:function(){var nI=slice.call(arguments);if(this.fakes){var nK=matchingFake(this.fakes,nI,true);if(nK){return nK;};}else {this.fakes=[];};var nJ=this;var nL=this._create();nL.matchingAguments=nI;nL.parent=this;push.call(this.fakes,nL);nL.withArgs=function(){return nJ.withArgs.apply(nJ,arguments);};for(var i=0;i<this.args.length;i++ ){if(nL.matches(this.args[i])){incrementCallCount.call(nL);push.call(nL.thisValues,this.thisValues[i]);push.call(nL.args,this.args[i]);push.call(nL.returnValues,this.returnValues[i]);push.call(nL.exceptions,this.exceptions[i]);push.call(nL.callIds,this.callIds[i]);};};createCallProperties.call(nL);return nL;},matches:function(nO,nM){var nN=this.matchingAguments;if(nN.length<=nO.length&&sinon.deepEqual(nN,nO.slice(0,nN.length))){return !nM||nN.length==nO.length;};},printf:function(nS){var nP=this;var nQ=slice.call(arguments,1);var nR;return (nS||ft).replace(/%(.)/g,function(nU,nT){nR=spyApi.formatters[nT];if(typeof nR==df){return nR.call(null,nP,nQ);}else if(!isNaN(parseInt(nT,10))){return sinon.format(nQ[nT-1]);};return u+nT;});}};function delegateToCalls(nX,nV,nW,nY){spyApi[nX]=function(){if(!this.called){if(nY){return nY.apply(this,arguments);};return false;};var ob;var oa=0;for(var i=0,l=this.callCount;i<l;i+=1){ob=this.getCall(i);if(ob[nW||nX].apply(ob,arguments)){oa+=1;if(nV){return true;};};};return oa===this.callCount;};};delegateToCalls(eE,true);delegateToCalls(cC,false,eE);delegateToCalls(bl,true);delegateToCalls(U,true);delegateToCalls(gs,false,bl);delegateToCalls(gu,false,U);delegateToCalls(ea,true);delegateToCalls(bT,false,ea);delegateToCalls(dX,false,hm,function(){return true;});delegateToCalls(gc,false,cc,function(){return true;});delegateToCalls(dJ,true);delegateToCalls(fm,false,dJ);delegateToCalls(gi,true);delegateToCalls(dY,false,gi);delegateToCalls(eJ,true);delegateToCalls(fV,false,eJ);delegateToCalls(fR,false,dx,function(){throw new Error(this.toString()+bY);});spyApi.callArgWith=spyApi.callArg;delegateToCalls(gX,false,eA,function(){throw new Error(this.toString()+bY);});spyApi.callArgOnWith=spyApi.callArgOn;delegateToCalls(cG,false,cG,function(){throw new Error(this.toString()+Y);});spyApi.invokeCallback=spyApi.yield;delegateToCalls(cd,false,cd,function(){throw new Error(this.toString()+Y);});delegateToCalls(dw,false,dw,function(oc){throw new Error(this.toString()+fk+oc+hp);});delegateToCalls(fu,false,fu,function(od){throw new Error(this.toString()+fk+od+hp);});spyApi.formatters={"c":function(oe){return sinon.timesInWords(oe.callCount);},"n":function(of){return of.toString();},"C":function(og){var oh=[];for(var i=0,l=og.callCount;i<l; ++i){var oi=bU+og.getCall(i).toString();if(/\n/.test(oh[i-1])){oi=el+oi;};push.call(oh,oi);};return oh.length>0?el+oh.join(el):ft;},"t":function(oj){var ok=[];for(var i=0,l=oj.callCount;i<l; ++i){push.call(ok,sinon.format(oj.thisValues[i]));};return ok.join(ee);},"*":function(ol,om){var oo=[];for(var i=0,l=om.length;i<l; ++i){push.call(oo,sinon.format(om[i]));};return oo.join(ee);}};sinon.extend(spy,spyApi);spy.spyCall=sinon.spyCall;if(commonJSModule){module.exports=spy;}else {sinon.spy=spy;};}(typeof sinon==gU&&sinon||null));(function(ox){var op=typeof module!==eK&&module.exports;if(!ox&&op){ox=require(ce);};if(!ox){return;};var os=Array.prototype.slice;var ot=Array.prototype.join;var ov;var oq=(function(){if(typeof process===gU&&typeof process.nextTick===df){return process.nextTick;}else if(typeof setImmediate===df){return setImmediate;}else {return function(oB){setTimeout(oB,0);};};})();function oz(oD,oC){if(typeof oD==ge){this.exception=new Error(oC||ft);this.exception.name=oD;}else if(!oD){this.exception=new Error(eS);}else {this.exception=oD;};return this;};function oy(oG,oE){var oH=oG.callArgAt;if(oH<0){var oF=oG.callArgProp;for(var i=0,l=oE.length;i<l; ++i){if(!oF&&typeof oE[i]==df){return oE[i];};if(oF&&oE[i]&&typeof oE[i][oF]==df){return oE[i][oF];};};return null;};return oE[oH];};function ow(oK,oL,oJ){if(oK.callArgAt<0){var oI;if(oK.callArgProp){oI=ox.functionName(oK.stub)+eM+oK.callArgProp+R;}else {oI=ox.functionName(oK.stub)+hq;};if(oJ.length>0){oI+=bM+ot.call(oJ,ee)+fv;};return oI;};return eD+oK.callArgAt+fX+oL;};function ou(oN,oM){if(typeof oN.callArgAt==cu){var oO=oy(oN,oM);if(typeof oO!=df){throw new TypeError(ow(oN,oO,oM));};if(oN.callbackAsync){oq(function(){oO.apply(oN.callbackContext,oN.callbackArguments);});}else {oO.apply(oN.callbackContext,oN.callbackArguments);};};};ov={create:function(oP){var oQ=ox.extend({},ox.behavior);delete oQ.create;oQ.stub=oP;return oQ;},isPresent:function(){return (typeof this.callArgAt==ei||this.exception||typeof this.returnArgAt==ei||this.returnThis||this.returnValueDefined);},invoke:function(oS,oR){ou(this,oR);if(this.exception){throw this.exception;}else if(typeof this.returnArgAt==ei){return oR[this.returnArgAt];}else if(this.returnThis){return oS;};return this.returnValue;},onCall:function(oT){return this.stub.onCall(oT);},onFirstCall:function(){return this.stub.onFirstCall();},onSecondCall:function(){return this.stub.onSecondCall();},onThirdCall:function(){return this.stub.onThirdCall();},withArgs:function(){throw new Error(gb+gt);},callsArg:function oU(oV){if(typeof oV!=cu){throw new TypeError(gB);};this.callArgAt=oV;this.callbackArguments=[];this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgOn:function oW(oX,oY){if(typeof oX!=cu){throw new TypeError(gB);};if(typeof oY!=gU){throw new TypeError(cJ);};this.callArgAt=oX;this.callbackArguments=[];this.callbackContext=oY;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgWith:function pa(pb){if(typeof pb!=cu){throw new TypeError(gB);};this.callArgAt=pb;this.callbackArguments=os.call(arguments,1);this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},callsArgOnWith:function pc(pe,pd){if(typeof pe!=cu){throw new TypeError(gB);};if(typeof pd!=gU){throw new TypeError(cJ);};this.callArgAt=pe;this.callbackArguments=os.call(arguments,2);this.callbackContext=pd;this.callArgProp=undefined;this.callbackAsync=false;return this;},yields:function(){this.callArgAt=-1;this.callbackArguments=os.call(arguments,0);this.callbackContext=undefined;this.callArgProp=undefined;this.callbackAsync=false;return this;},yieldsOn:function(pf){if(typeof pf!=gU){throw new TypeError(cJ);};this.callArgAt=-1;this.callbackArguments=os.call(arguments,1);this.callbackContext=pf;this.callArgProp=undefined;this.callbackAsync=false;return this;},yieldsTo:function(pg){this.callArgAt=-1;this.callbackArguments=os.call(arguments,1);this.callbackContext=undefined;this.callArgProp=pg;this.callbackAsync=false;return this;},yieldsToOn:function(pi,ph){if(typeof ph!=gU){throw new TypeError(cJ);};this.callArgAt=-1;this.callbackArguments=os.call(arguments,2);this.callbackContext=ph;this.callArgProp=pi;this.callbackAsync=false;return this;},"throws":oz,throwsException:oz,returns:function pj(pk){this.returnValue=pk;this.returnValueDefined=true;return this;},returnsArg:function pl(pm){if(typeof pm!=cu){throw new TypeError(gB);};this.returnArgAt=pm;return this;},returnsThis:function pn(){this.returnThis=true;return this;}};for(var oA in ov){if(ov.hasOwnProperty(oA)&&oA.match(/^(callsArg|yields)/)&&!oA.match(/Async/)){ov[oA+L]=(function(po){return function(){var pp=this[po].apply(this,arguments);this.callbackAsync=true;return pp;};})(oA);};};if(op){module.exports=ov;}else {ox.behavior=ov;};}(typeof sinon==gU&&sinon||null));(function(pv){var pq=typeof module!==eK&&module.exports;if(!pv&&pq){pv=require(ce);};if(!pv){return;};function pu(py,px,pz){if(!!pz&&typeof pz!=df){throw new TypeError(gK);};var pA;if(pz){pA=pv.spy&&pv.spy.create?pv.spy.create(pz):pz;}else {pA=pu.create();};if(!py&&typeof px===bX){return pv.stub.create();};if(typeof px===bX&&typeof py==gU){for(var pB in py){if(typeof py[pB]===df){pu(py,pB);};};return py;};return pv.wrapMethod(py,px,pA);};function pt(pC){return pC.defaultBehavior||pw(pC)||pv.behavior.create(pC);};function pw(pD){return (pD.parent&&pr(pD.parent));};function pr(pE){var pF=pE.behaviors[pE.callCount-1];return pF&&pF.isPresent()?pF:pt(pE);};var ps=0;pv.extend(pu,(function(){var pH={create:function pJ(){var pI=function(){return pr(pI).invoke(this,arguments);};pI.id=z+ps++ ;var pK=pI;pI=pv.spy.create(pI);pI.func=pK;pv.extend(pI,pu);pI._create=pv.stub.create;pI.displayName=cS;pI.toString=pv.functionToString;pI.defaultBehavior=null;pI.behaviors=[];return pI;},resetBehavior:function(){var i;this.defaultBehavior=null;this.behaviors=[];delete this.returnValue;delete this.returnArgAt;this.returnThis=false;if(this.fakes){for(i=0;i<this.fakes.length;i++ ){this.fakes[i].resetBehavior();};};},onCall:function(pL){if(!this.behaviors[pL]){this.behaviors[pL]=pv.behavior.create(this);};return this.behaviors[pL];},onFirstCall:function(){return this.onCall(0);},onSecondCall:function(){return this.onCall(1);},onThirdCall:function(){return this.onCall(2);}};for(var pG in pv.behavior){if(pv.behavior.hasOwnProperty(pG)&&!pH.hasOwnProperty(pG)&&pG!=x&&pG!=bW&&pG!=fh){pH[pG]=(function(pM){return function(){this.defaultBehavior=this.defaultBehavior||pv.behavior.create(this);this.defaultBehavior[pM].apply(this.defaultBehavior,arguments);return this;};}(pG));};};return pH;}()));if(pq){module.exports=pu;}else {pv.stub=pu;};}(typeof sinon==gU&&sinon||null));(function(pP){var pN=typeof module!==eK&&module.exports;var pR=[].push;var pS;if(!pP&&pN){pP=require(ce);};if(!pP){return;};pS=pP.match;if(!pS&&pN){pS=require(fK);};function pQ(pT){if(!pT){return pP.expectation.create(fW);};return pQ.create(pT);};pP.mock=pQ;pP.extend(pQ,(function(){function pU(pW,pV){if(!pW){return;};for(var i=0,l=pW.length;i<l;i+=1){pV(pW[i]);};};return {create:function pX(pY){if(!pY){throw new TypeError(bi);};var qa=pP.extend({},pQ);qa.object=pY;delete qa.create;return qa;},expects:function qe(qb){if(!qb){throw new TypeError(dL);};if(!this.expectations){this.expectations={};this.proxies=[];};if(!this.expectations[qb]){this.expectations[qb]=[];var qd=this;pP.wrapMethod(this.object,qb,function(){return qd.invokeMethod(qb,this,arguments);});pR.call(this.proxies,qb);};var qc=pP.expectation.create(qb);pR.call(this.expectations[qb],qc);return qc;},restore:function qf(){var qg=this.object;pU(this.proxies,function(qh){if(typeof qg[qh].restore==df){qg[qh].restore();};});},verify:function qi(){var qk=this.expectations||{};var qj=[],ql=[];pU(this.proxies,function(qm){pU(qk[qm],function(qn){if(!qn.met()){pR.call(qj,qn.toString());}else {pR.call(ql,qn.toString());};});});this.restore();if(qj.length>0){pP.expectation.fail(qj.concat(ql).join(el));}else {pP.expectation.pass(qj.concat(ql).join(el));};return true;},invokeMethod:function qv(qw,qp,qq){var qt=this.expectations&&this.expectations[qw];var length=qt&&qt.length||0,i;for(i=0;i<length;i+=1){if(!qt[i].met()&&qt[i].allowsCall(qp,qq)){return qt[i].apply(qp,qq);};};var qr=[],qo,qu=0;for(i=0;i<length;i+=1){if(qt[i].allowsCall(qp,qq)){qo=qo||qt[i];}else {qu+=1;};pR.call(qr,bU+qt[i].toString());};if(qu===0){return qo.apply(qp,qq);};qr.unshift(dt+pP.spyCall.toString.call({proxy:qw,args:qq}));pP.expectation.fail(qr.join(el));}};}()));var pO=pP.timesInWords;pP.expectation=(function(){var qA=Array.prototype.slice;var qy=pP.spy.invoke;function qE(qF){if(qF==0){return hs;}else {return dF+pO(qF);};};function qB(qH){var qJ=qH.minCalls;var qG=qH.maxCalls;if(typeof qJ==cu&&typeof qG==cu){var qI=pO(qJ);if(qJ!=qG){qI=ff+qI+bK+pO(qG);};return qI;};if(typeof qJ==cu){return ff+pO(qJ);};return s+pO(qG);};function qz(qK){var qL=typeof qK.minCalls==cu;return !qL||qK.callCount>=qK.minCalls;};function qC(qM){if(typeof qM.maxCalls!=cu){return false;};return qM.callCount==qM.maxCalls;};function qD(qN,qO){if(pS&&pS.isMatcher(qN)){return qN.test(qO);}else {return true;};};return {minCalls:1,maxCalls:1,create:function qP(qQ){var qR=pP.extend(pP.stub.create(),pP.expectation);delete qR.create;qR.method=qQ;return qR;},invoke:function qU(qT,qV,qS){this.verifyCallAllowed(qV,qS);return qy.apply(this,arguments);},atLeast:function qX(qW){if(typeof qW!=cu){throw new TypeError(dC+qW+cP);};if(!this.limitsSet){this.maxCalls=null;this.limitsSet=true;};this.minCalls=qW;return this;},atMost:function qY(ra){if(typeof ra!=cu){throw new TypeError(dC+ra+cP);};if(!this.limitsSet){this.minCalls=null;this.limitsSet=true;};this.maxCalls=ra;return this;},never:function rb(){return this.exactly(0);},once:function rc(){return this.exactly(1);},twice:function rd(){return this.exactly(2);},thrice:function re(){return this.exactly(3);},exactly:function rf(rg){if(typeof rg!=cu){throw new TypeError(dC+rg+fC);};this.atLeast(rg);return this.atMost(rg);},met:function rh(){return !this.failed&&qz(this);},verifyCallAllowed:function rj(rk,ri){if(qC(this)){this.failed=true;pP.expectation.fail(this.method+bR+pO(this.maxCalls));};if(es in this&&this.expectedThis!==rk){pP.expectation.fail(this.method+gm+rk+ca+this.expectedThis);};if(!(K in this)){return;};if(!ri){pP.expectation.fail(this.method+bI+pP.format(this.expectedArguments));};if(ri.length<this.expectedArguments.length){pP.expectation.fail(this.method+ep+pP.format(ri)+ed+pP.format(this.expectedArguments));};if(this.expectsExactArgCount&&ri.length!=this.expectedArguments.length){pP.expectation.fail(this.method+dp+pP.format(ri)+ed+pP.format(this.expectedArguments));};for(var i=0,l=this.expectedArguments.length;i<l;i+=1){if(!qD(this.expectedArguments[i],ri[i])){pP.expectation.fail(this.method+fU+pP.format(ri)+dy+this.expectedArguments.toString());};if(!pP.deepEqual(this.expectedArguments[i],ri[i])){pP.expectation.fail(this.method+fU+pP.format(ri)+cq+pP.format(this.expectedArguments));};};},allowsCall:function rm(rn,rl){if(this.met()&&qC(this)){return false;};if(es in this&&this.expectedThis!==rn){return false;};if(!(K in this)){return true;};rl=rl||[];if(rl.length<this.expectedArguments.length){return false;};if(this.expectsExactArgCount&&rl.length!=this.expectedArguments.length){return false;};for(var i=0,l=this.expectedArguments.length;i<l;i+=1){if(!qD(this.expectedArguments[i],rl[i])){return false;};if(!pP.deepEqual(this.expectedArguments[i],rl[i])){return false;};};return true;},withArgs:function ro(){this.expectedArguments=qA.call(arguments);return this;},withExactArgs:function rp(){this.withArgs.apply(this,arguments);this.expectsExactArgCount=true;return this;},on:function rq(rr){this.expectedThis=rr;return this;},toString:function(){var rt=(this.expectedArguments||[]).slice();if(!this.expectsExactArgCount){pR.call(rt,gk);};var rs=pP.spyCall.toString.call({proxy:this.method||fj,args:rt});var rv=rs.replace(bJ,cT)+gv+qB(this);if(this.met()){return y+rv;};return dM+rv+gL+qE(this.callCount)+dh;},verify:function rw(){if(!this.met()){pP.expectation.fail(this.toString());}else {pP.expectation.pass(this.toString());};return true;},pass:function(rx){pP.assert.pass(rx);},fail:function(ry){var rz=new Error(ry);rz.name=cD;throw rz;}};}());if(pN){module.exports=pQ;}else {pP.mock=pQ;};}(typeof sinon==gU&&sinon||null));(function(rE){var rA=typeof module!==eK&&module.exports;var rH=[].push;var rF=Object.prototype.hasOwnProperty;if(!rE&&rA){rE=require(ce);};if(!rE){return;};function rC(rI){if(!rI.fakes){rI.fakes=[];};return rI.fakes;};function rG(rJ,rL){var rK=rC(rJ);for(var i=0,l=rK.length;i<l;i+=1){if(typeof rK[i][rL]==df){rK[i][rL]();};};};function rB(rM){var rN=rC(rM);var i=0;while(i<rN.length){rN.splice(i,1);};};var rD={verify:function rO(){rG(this,dd);},restore:function rP(){rG(this,dT);rB(this);},verifyAndRestore:function rR(){var rQ;try{this.verify();}catch(e){rQ=e;};this.restore();if(rQ){throw rQ;};},add:function rS(rT){rH.call(rC(this),rT);return rT;},spy:function rU(){return this.add(rE.spy.apply(rE,arguments));},stub:function sa(rW,sb,rX){if(sb){var sc=rW[sb];if(typeof sc!=df){if(!rF.call(rW,sb)){throw new TypeError(gV+sb);};rW[sb]=rX;return this.add({restore:function(){rW[sb]=sc;}});};};if(!sb&&!!rW&&typeof rW==gU){var rV=rE.stub.apply(rE,arguments);for(var rY in rV){if(typeof rV[rY]===df){this.add(rV[rY]);};};return rV;};return this.add(rE.stub.apply(rE,arguments));},mock:function sd(){return this.add(rE.mock.apply(rE,arguments));},inject:function sf(se){var sg=this;se.spy=function(){return sg.spy.apply(sg,arguments);};se.stub=function(){return sg.stub.apply(sg,arguments);};se.mock=function(){return sg.mock.apply(sg,arguments);};return se;}};if(rA){module.exports=rD;}else {rE.collection=rD;};}(typeof sinon==gU&&sinon||null));if(typeof sinon==bX){var sinon={};};(function(global){var timeoutResult=setTimeout(function(){},0);var addTimerReturnsObject=typeof timeoutResult===cK;clearTimeout(timeoutResult);var id=1;function addTimer(sj,sk){if(sj.length===0){throw new Error(gf);};if(typeof sj[0]===bX){throw new Error(bf);};var si=id++ ;var sh=sj[1]||0;if(!this.timeouts){this.timeouts={};};this.timeouts[si]={id:si,func:sj[0],callAt:this.now+sh,invokeArgs:Array.prototype.slice.call(sj,2)};if(sk===true){this.timeouts[si].interval=sh;};if(addTimerReturnsObject){return {id:si,ref:function(){},unref:function(){}};}else {return si;};};function parseTime(sl){if(!sl){return 0;};var sm=sl.split(ba);var l=sm.length,i=l;var sn=0,so;if(l>3||!/^(\d\d:){0,2}\d\d?$/.test(sl)){throw new Error(bv);};while(i-- ){so=parseInt(sm[i],10);if(so>=60){throw new Error(dj+sl);};sn+=so*Math.pow(60,(l-i-1));};return sn*1000;};function createObject(sp){var sq;if(Object.create){sq=Object.create(sp);}else {var F=function(){};F.prototype=sp;sq=new F();};sq.Date.clock=sq;return sq;};sinon.clock={now:0,create:function sr(ss){var st=createObject(this);if(typeof ss==cu){st.now=ss;};if(!!ss&&typeof ss==gU){throw new TypeError(fl);};return st;},setTimeout:function setTimeout(su,sv){return addTimer.call(this,arguments,false);},clearTimeout:function clearTimeout(sw){if(!this.timeouts){this.timeouts=[];};if(sw in this.timeouts){delete this.timeouts[sw];};},setInterval:function setInterval(sx,sy){return addTimer.call(this,arguments,true);},clearInterval:function clearInterval(sz){this.clearTimeout(sz);},setImmediate:function sC(sA){var sB=Array.prototype.slice.call(arguments,1);return addTimer.call(this,[sA,0].concat(sB),false);},clearImmediate:function sD(sE){this.clearTimeout(sE);},tick:function sK(sI){sI=typeof sI==cu?sI:parseTime(sI);var sJ=this.now,sG=this.now+sI,sL=this.now;var sF=this.firstTimerInRange(sJ,sG);var sH;while(sF&&sJ<=sG){if(this.timeouts[sF.id]){sJ=this.now=sF.callAt;try{this.callTimer(sF);}catch(e){sH=sH||e;};};sF=this.firstTimerInRange(sL,sG);sL=sJ;};this.now=sG;if(sH){throw sH;};return this.now;},firstTimerInRange:function(sM,sN){var sO,sQ=null,sP;for(var sR in this.timeouts){if(this.timeouts.hasOwnProperty(sR)){if(this.timeouts[sR].callAt<sM||this.timeouts[sR].callAt>sN){continue;};if(sQ===null||this.timeouts[sR].callAt<sQ){sP=this.timeouts[sR];sQ=this.timeouts[sR].callAt;sO={func:this.timeouts[sR].func,callAt:this.timeouts[sR].callAt,interval:this.timeouts[sR].interval,id:this.timeouts[sR].id,invokeArgs:this.timeouts[sR].invokeArgs};};};};return sO||null;},callTimer:function(timer){if(typeof timer.interval==cu){this.timeouts[timer.id].callAt+=timer.interval;}else {delete this.timeouts[timer.id];};try{if(typeof timer.func==df){timer.func.apply(null,timer.invokeArgs);}else {eval(timer.func);};}catch(e){var exception=e;};if(!this.timeouts[timer.id]){if(exception){throw exception;};return;};if(exception){throw exception;};},reset:function sS(){this.timeouts={};},Date:(function(){var sT=Date;function sU(ta,sW,tb,sV,tc,sX,sY){switch(arguments.length){case 0:return new sT(sU.clock.now);case 1:return new sT(ta);case 2:return new sT(ta,sW);case 3:return new sT(ta,sW,tb);case 4:return new sT(ta,sW,tb,sV);case 5:return new sT(ta,sW,tb,sV,tc);case 6:return new sT(ta,sW,tb,sV,tc,sX);default:return new sT(ta,sW,tb,sV,tc,sX,sY);};};return mirrorDateProperties(sU,sT);}())};function mirrorDateProperties(te,td){if(td.now){te.now=function tg(){return te.clock.now;};}else {delete te.now;};if(td.toSource){te.toSource=function th(){return td.toSource();};}else {delete te.toSource;};te.toString=function ti(){return td.toString();};te.prototype=td.prototype;te.parse=td.parse;te.UTC=td.UTC;te.prototype.toUTCString=td.prototype.toUTCString;for(var tf in td){if(td.hasOwnProperty(tf)){te[tf]=td[tf];};};return te;};var methods=[J,dc,eh,dO,v];if(typeof global.setImmediate!==bX){methods.push(gI);};if(typeof global.clearImmediate!==bX){methods.push(fs);};function restore(){var tj;for(var i=0,l=this.methods.length;i<l;i++ ){tj=this.methods[i];if(global[tj].hadOwnProperty){global[tj]=this[bw+tj];}else {try{delete global[tj];}catch(e){};};};this.methods=[];};function stubGlobal(tm,tl){tl[tm].hadOwnProperty=Object.prototype.hasOwnProperty.call(global,tm);tl[bw+tm]=global[tm];if(tm==J){var tk=mirrorDateProperties(tl[tm],global[tm]);global[tm]=tk;}else {global[tm]=function(){return tl[tm].apply(tl,arguments);};for(var tn in tl[tm]){if(tl[tm].hasOwnProperty(tn)){global[tm][tn]=tl[tm][tn];};};};global[tm].clock=tl;};sinon.useFakeTimers=function tq(tp){var tr=sinon.clock.create(tp);tr.restore=restore;tr.methods=Array.prototype.slice.call(arguments,typeof tp==cu?1:0);if(tr.methods.length===0){tr.methods=methods;};for(var i=0,l=tr.methods.length;i<l;i++ ){stubGlobal(tr.methods[i],tr);};return tr;};}(typeof global!=bX&&typeof global!==df?global:this));sinon.timers={setTimeout:setTimeout,clearTimeout:clearTimeout,setImmediate:(typeof setImmediate!==bX?setImmediate:undefined),clearImmediate:(typeof clearImmediate!==bX?clearImmediate:undefined),setInterval:setInterval,clearInterval:clearInterval,Date:Date};if(typeof module!==eK&&module.exports){module.exports=sinon;};if(typeof sinon==bX){this.sinon={};};(function(){var ts=[].push;sinon.Event=function Event(tv,tu,tt,tw){this.initEvent(tv,tu,tt,tw);};sinon.Event.prototype={initEvent:function(tz,ty,tx,tA){this.type=tz;this.bubbles=ty;this.cancelable=tx;this.target=tA;},stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=true;}};sinon.ProgressEvent=function tD(tB,tE,tC){this.initEvent(tB,false,false,tC);this.loaded=tE.loaded||null;this.total=tE.total||null;};sinon.ProgressEvent.prototype=new sinon.Event();sinon.ProgressEvent.prototype.constructor=sinon.ProgressEvent;sinon.CustomEvent=function CustomEvent(tG,tF,tH){this.initEvent(tG,false,false,tH);this.detail=tF.detail||null;};sinon.CustomEvent.prototype=new sinon.Event();sinon.CustomEvent.prototype.constructor=sinon.CustomEvent;sinon.EventTarget={addEventListener:function addEventListener(event,tI){this.eventListeners=this.eventListeners||{};this.eventListeners[event]=this.eventListeners[event]||[];ts.call(this.eventListeners[event],tI);},removeEventListener:function removeEventListener(event,tJ){var tK=this.eventListeners&&this.eventListeners[event]||[];for(var i=0,l=tK.length;i<l; ++i){if(tK[i]==tJ){return tK.splice(i,1);};};},dispatchEvent:function dispatchEvent(event){var tM=event.type;var tL=this.eventListeners&&this.eventListeners[tM]||[];for(var i=0;i<tL.length;i++ ){if(typeof tL[i]==df){tL[i].call(this,event);}else {tL[i].handleEvent(event);};};return !!event.defaultPrevented;}};}());(function(tS){if(typeof sinon===bX){tS.sinon={};};var uc=typeof ProgressEvent!==bX;var tP=typeof CustomEvent!==bX;sinon.xhr={XMLHttpRequest:tS.XMLHttpRequest};var tQ=sinon.xhr;tQ.GlobalXMLHttpRequest=tS.XMLHttpRequest;tQ.GlobalActiveXObject=tS.ActiveXObject;tQ.supportsActiveX=typeof tQ.GlobalActiveXObject!=bX;tQ.supportsXHR=typeof tQ.GlobalXMLHttpRequest!=bX;tQ.workingXHR=tQ.supportsXHR?tQ.GlobalXMLHttpRequest:tQ.supportsActiveX?function(){return new tQ.GlobalActiveXObject(cY);}:false;tQ.supportsCORS=q in (new sinon.xhr.GlobalXMLHttpRequest());var tN={"Accept-Charset":true,"Accept-Encoding":true,"Connection":true,"Content-Length":true,"Cookie":true,"Cookie2":true,"Content-Transfer-Encoding":true,"Date":true,"Expect":true,"Host":true,"Keep-Alive":true,"Referer":true,"TE":true,"Trailer":true,"Transfer-Encoding":true,"Upgrade":true,"User-Agent":true,"Via":true};function tV(){this.readyState=tV.UNSENT;this.requestHeaders={};this.requestBody=null;this.status=0;this.statusText=ft;this.upload=new tW();if(sinon.xhr.supportsCORS){this.withCredentials=false;};var ue=this;var uf=[r,fN,gF,bg];function addEventListener(ug){ue.addEventListener(ug,function(event){var uh=ue[fc+ug];if(uh&&typeof uh==df){uh.call(this,event);};});};for(var i=uf.length-1;i>=0;i-- ){addEventListener(uf[i]);};if(typeof tV.onCreate==df){tV.onCreate(this);};};function tW(){this.eventListeners={"progress":[],"load":[],"abort":[],"error":[]};};tW.prototype.addEventListener=function(event,ui){this.eventListeners[event].push(ui);};tW.prototype.removeEventListener=function(event,uj){var uk=this.eventListeners[event]||[];for(var i=0,l=uk.length;i<l; ++i){if(uk[i]==uj){return uk.splice(i,1);};};};tW.prototype.dispatchEvent=function(event){var um=this.eventListeners[event.type]||[];for(var i=0,ul;(ul=um[i])!=null;i++ ){ul(event);};};function tX(un){if(un.readyState!==tV.OPENED){throw new Error(cx);};if(un.sendFlag){throw new Error(cx);};};function ub(up,uo){if(!up)return;for(var i=0,l=up.length;i<l;i+=1){uo(up[i]);};};function tT(ur,uq){for(var us=0;us<ur.length;us++ ){if(uq(ur[us])===true)return true;};return false;};var ua=function(uu,uv,ut){switch(ut.length){case 0:return uu[uv]();case 1:return uu[uv](ut[0]);case 2:return uu[uv](ut[0],ut[1]);case 3:return uu[uv](ut[0],ut[1],ut[2]);case 4:return uu[uv](ut[0],ut[1],ut[2],ut[3]);case 5:return uu[uv](ut[0],ut[1],ut[2],ut[3],ut[4]);};};tV.filters=[];tV.addFilter=function(uw){this.filters.push(uw);};var tO=/MSIE 6/;tV.defake=function(uB,uA){var uz=new sinon.xhr.workingXHR();ub([cm,eG,cn,gF,fd,gP,de,bj,gh],function(uC){uB[uC]=function(){return ua(uz,uC,arguments);};});var uy=function(uD){ub(uD,function(uE){try{uB[uE]=uz[uE];}catch(e){if(!tO.test(navigator.userAgent))throw e;};});};var ux=function(){uB.readyState=uz.readyState;if(uz.readyState>=tV.HEADERS_RECEIVED){uy([fa,gD]);};if(uz.readyState>=tV.LOADING){uy([gz]);};if(uz.readyState===tV.DONE){uy([ch]);};if(uB.onreadystatechange)uB.onreadystatechange.call(uB,{target:uB});};if(uz.addEventListener){for(var event in uB.eventListeners){if(uB.eventListeners.hasOwnProperty(event)){ub(uB.eventListeners[event],function(uF){uz.addEventListener(event,uF);});};};uz.addEventListener(be,ux);}else {uz.onreadystatechange=ux;};ua(uz,cm,uA);};tV.useFilters=false;function tU(uG){if(uG.readyState!=tV.OPENED){throw new Error(A+uG.readyState);};};function ud(uH){if(uH.readyState==tV.DONE){throw new Error(hj);};};function tY(uI){if(uI.async&&uI.readyState!=tV.HEADERS_RECEIVED){throw new Error(gJ);};};function tR(uJ){if(typeof uJ!=ge){var uK=new Error(hh+uJ+cR);uK.name=ew;throw uK;};};sinon.extend(tV.prototype,sinon.EventTarget,{async:true,open:function open(uR,uM,uP,uL,uQ){this.method=uR;this.url=uM;this.async=typeof uP==dR?uP:true;this.username=uL;this.password=uQ;this.responseText=null;this.responseXML=null;this.requestHeaders={};this.sendFlag=false;if(sinon.FakeXMLHttpRequest.useFilters===true){var uN=arguments;var uO=tT(tV.filters,function(uS){return uS.apply(this,uN);});if(uO){return sinon.FakeXMLHttpRequest.defake(this,arguments);};};this.readyStateChange(tV.OPENED);},readyStateChange:function uT(uU){this.readyState=uU;if(typeof this.onreadystatechange==df){try{this.onreadystatechange();}catch(e){sinon.logError(bE,e);};};this.dispatchEvent(new sinon.Event(be));switch(this.readyState){case tV.DONE:this.dispatchEvent(new sinon.Event(fN,false,false,this));this.dispatchEvent(new sinon.Event(bg,false,false,this));this.upload.dispatchEvent(new sinon.Event(fN,false,false,this));if(uc){this.upload.dispatchEvent(new sinon.ProgressEvent(eX,{loaded:100,total:100}));};break;};},setRequestHeader:function uW(uV,uX){tX(this);if(tN[uV]||/^(Sec-|Proxy-)/.test(uV)){throw new Error(fY+uV+fe);};if(this.requestHeaders[uV]){this.requestHeaders[uV]+=ht+uX;}else {this.requestHeaders[uV]=uX;};},setResponseHeaders:function va(uY){tU(this);this.responseHeaders={};for(var vb in uY){if(uY.hasOwnProperty(vb)){this.responseHeaders[vb]=uY[vb];};};if(this.async){this.readyStateChange(tV.HEADERS_RECEIVED);}else {this.readyState=tV.HEADERS_RECEIVED;};},send:function vd(vc){tX(this);if(!/^(get|head)$/i.test(this.method)){if(this.requestHeaders[bV]){var ve=this.requestHeaders[bV].split(bS);this.requestHeaders[bV]=ve[0]+cU;}else {this.requestHeaders[bV]=dl;};this.requestBody=vc;};this.errorFlag=false;this.sendFlag=this.async;this.readyStateChange(tV.OPENED);if(typeof this.onSend==df){this.onSend(this);};this.dispatchEvent(new sinon.Event(r,false,false,this));},abort:function vf(){this.aborted=true;this.responseText=null;this.errorFlag=true;this.requestHeaders={};if(this.readyState>sinon.FakeXMLHttpRequest.UNSENT&&this.sendFlag){this.readyStateChange(sinon.FakeXMLHttpRequest.DONE);this.sendFlag=false;};this.readyState=sinon.FakeXMLHttpRequest.UNSENT;this.dispatchEvent(new sinon.Event(gF,false,false,this));this.upload.dispatchEvent(new sinon.Event(gF,false,false,this));if(typeof this.onerror===df){this.onerror();};},getResponseHeader:function vh(vg){if(this.readyState<tV.HEADERS_RECEIVED){return null;};if(/^Set-Cookie2?$/i.test(vg)){return null;};vg=vg.toLowerCase();for(var h in this.responseHeaders){if(h.toLowerCase()==vg){return this.responseHeaders[h];};};return null;},getAllResponseHeaders:function vj(){if(this.readyState<tV.HEADERS_RECEIVED){return ft;};var vi=ft;for(var vk in this.responseHeaders){if(this.responseHeaders.hasOwnProperty(vk)&&!/^Set-Cookie2?$/i.test(vk)){vi+=vk+gH+this.responseHeaders[vk]+t;};};return vi;},setResponseBody:function vn(vl){ud(this);tY(this);tR(vl);var vp=this.chunkSize||10;var vm=0;this.responseText=ft;do {if(this.async){this.readyStateChange(tV.LOADING);};this.responseText+=vl.substring(vm,vm+vp);vm+=vp;}while(vm<vl.length);var vo=this.getResponseHeader(bV);if(this.responseText&&(!vo||/(text\/xml)|(application\/xml)|(\+xml)/.test(vo))){try{this.responseXML=tV.parseXML(this.responseText);}catch(e){};};if(this.async){this.readyStateChange(tV.DONE);}else {this.readyState=tV.DONE;};},respond:function vq(status,vs,vr){this.status=typeof status==cu?status:200;this.statusText=tV.statusCodes[this.status];this.setResponseHeaders(vs||{});this.setResponseBody(vr||ft);},uploadProgress:function vt(vu){if(uc){this.upload.dispatchEvent(new sinon.ProgressEvent(br,vu));};},uploadError:function vv(vw){if(tP){this.upload.dispatchEvent(new sinon.CustomEvent(bo,{"detail":vw}));};}});sinon.extend(tV,{UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4});tV.parseXML=function vz(vx){var vA;if(typeof DOMParser!=bX){var vy=new DOMParser();vA=vy.parseFromString(vx,eC);}else {vA=new ActiveXObject(ho);vA.async=hl;vA.loadXML(vx);};return vA;};tV.statusCodes={'100':ds,'101':dN,'200':eo,'201':gA,'202':gT,'203':fF,'204':gw,'205':fB,'206':gS,'300':dn,'301':dm,'302':bB,'303':gR,'304':dA,'305':bt,'307':bO,'400':ck,'401':cl,'402':S,'403':bx,'404':bP,'405':bH,'406':w,'407':dV,'408':bA,'409':fT,'410':ci,'411':fI,'412':bq,'413':cv,'414':gq,'415':cF,'416':I,'417':cg,'422':dG,'500':hc,'501':fG,'502':fq,'503':fO,'504':eH,'505':hr};sinon.useFakeXMLHttpRequest=function(){sinon.FakeXMLHttpRequest.restore=function vB(vC){if(tQ.supportsXHR){tS.XMLHttpRequest=tQ.GlobalXMLHttpRequest;};if(tQ.supportsActiveX){tS.ActiveXObject=tQ.GlobalActiveXObject;};delete sinon.FakeXMLHttpRequest.restore;if(vC!==true){delete sinon.FakeXMLHttpRequest.onCreate;};};if(tQ.supportsXHR){tS.XMLHttpRequest=sinon.FakeXMLHttpRequest;};if(tQ.supportsActiveX){tS.ActiveXObject=function ActiveXObject(vD){if(vD==hk||/^Msxml2\.XMLHTTP/i.test(vD)){return new sinon.FakeXMLHttpRequest();};return new tQ.GlobalActiveXObject(vD);};};return sinon.FakeXMLHttpRequest;};sinon.FakeXMLHttpRequest=tV;})(typeof global===gU?global:this);if(typeof module!==eK&&module.exports){module.exports=sinon;};if(typeof sinon==bX){var sinon={};};sinon.fakeServer=(function(){var vJ=[].push;function F(){};function vH(vM){F.prototype=vM;return new F();};function vG(vN){var vO=vN;if(Object.prototype.toString.call(vN)!=dS){vO=[200,{},vN];};if(typeof vO[2]!=ge){throw new TypeError(fJ+typeof vO[2]);};return vO;};var vK=typeof window!==bX?window.location:{};var vE=new RegExp(gx+vK.protocol+fP+vK.host);function vI(vT,vS,vV){var vR=vT.method;var vP=!vR||vR.toLowerCase()==vS.toLowerCase();var vQ=vT.url;var vU=!vQ||vQ==vV||(typeof vQ.test==df&&vQ.test(vV));return vP&&vU;};function vL(wb,vY){var wa=vY.url;if(!/^https?:\/\//.test(wa)||vE.test(wa)){wa=wa.replace(vE,ft);};if(vI(wb,this.getHTTPMethod(vY),wa)){if(typeof wb.response==df){var vW=wb.url;var vX=[vY].concat(vW&&typeof vW.exec==df?vW.exec(wa).slice(1):[]);return wb.response.apply(wb,vX);};return true;};return false;};function vF(wd,wc){var we;we=eW+sinon.format(wc)+dg;we+=fA+sinon.format(wd)+dg;sinon.log(we);};return {create:function(){var wf=vH(this);this.xhr=sinon.useFakeXMLHttpRequest();wf.requests=[];this.xhr.onCreate=function(wg){wf.addRequest(wg);};return wf;},addRequest:function wi(wh){var wj=this;vJ.call(this.requests,wh);wh.onSend=function(){wj.handleRequest(this);if(wj.autoRespond&&!wj.responding){setTimeout(function(){wj.responding=false;wj.respond();},wj.autoRespondAfter||10);wj.responding=true;};};},getHTTPMethod:function wl(wm){if(this.fakeHTTPMethods&&/post/i.test(wm.method)){var wk=(wm.requestBody||ft).match(/_method=([^\b;]+)/);return !!wk?wk[1]:wm.method;};return wm.method;},handleRequest:function wo(wn){if(wn.async){if(!this.queue){this.queue=[];};vJ.call(this.queue,wn);}else {this.processRequest(wn);};},respondWith:function wq(ws,wr,wp){if(arguments.length==1&&typeof ws!=df){this.response=vG(ws);return;};if(!this.responses){this.responses=[];};if(arguments.length==1){wp=ws;wr=ws=null;};if(arguments.length==2){wp=wr;wr=ws;ws=null;};vJ.call(this.responses,{method:ws,url:wr,response:typeof wp==df?wp:vG(wp)});},respond:function wt(){if(arguments.length>0)this.respondWith.apply(this,arguments);var wu=this.queue||[];var wv=wu.splice(0,wu.length);var ww;while(ww=wv.shift()){this.processRequest(ww);};},processRequest:function wx(wy){try{if(wy.aborted){return;};var wz=this.response||[404,{},ft];if(this.responses){for(var l=this.responses.length,i=l-1;i>=0;i-- ){if(vL.call(this,this.responses[i],wy)){wz=this.responses[i].response;break;};};};if(wy.readyState!=4){vF(wz,wy);wy.respond(wz[0],wz[1],wz[2]);};}catch(e){sinon.logError(gl,e);};},restore:function wA(){return this.xhr.restore&&this.xhr.restore.apply(this.xhr,arguments);}};}());if(typeof module!==eK&&module.exports){module.exports=sinon;};(function(){function wB(){};wB.prototype=sinon.fakeServer;sinon.fakeServerWithClock=new wB();sinon.fakeServerWithClock.addRequest=function wF(wC){if(wC.async){if(typeof setTimeout.clock==gU){this.clock=setTimeout.clock;}else {this.clock=sinon.useFakeTimers();this.resetClock=true;};if(!this.longestTimeout){var wD=this.clock.setTimeout;var wE=this.clock.setInterval;var wG=this;this.clock.setTimeout=function(wH,wI){wG.longestTimeout=Math.max(wI,wG.longestTimeout||0);return wD.apply(this,arguments);};this.clock.setInterval=function(wJ,wK){wG.longestTimeout=Math.max(wK,wG.longestTimeout||0);return wE.apply(this,arguments);};};};return sinon.fakeServer.addRequest.call(this,wC);};sinon.fakeServerWithClock.respond=function wL(){var wM=sinon.fakeServer.respond.apply(this,arguments);if(this.clock){this.clock.tick(this.longestTimeout||0);this.longestTimeout=0;if(this.resetClock){this.clock.restore();this.resetClock=false;};};return wM;};sinon.fakeServerWithClock.restore=function wN(){if(this.clock){this.clock.restore();};return sinon.fakeServer.restore.apply(this,arguments);};}());if(typeof module!==eK&&module.exports){var sinon=require(ce);sinon.extend(sinon,require(bs));};(function(){var wO=[].push;function wP(wR,wS,wT,wU){if(!wU){return;};if(wS.injectInto&&!(wT in wS.injectInto)){wS.injectInto[wT]=wU;wR.injectedKeys.push(wT);}else {wO.call(wR.args,wU);};};function wQ(wW){var wV=sinon.create(sinon.sandbox);if(wW.useFakeServer){if(typeof wW.useFakeServer==gU){wV.serverPrototype=wW.useFakeServer;};wV.useFakeServer();};if(wW.useFakeTimers){if(typeof wW.useFakeTimers==gU){wV.useFakeTimers.apply(wV,wW.useFakeTimers);}else {wV.useFakeTimers();};};return wV;};sinon.sandbox=sinon.extend(sinon.create(sinon.collection),{useFakeTimers:function wX(){this.clock=sinon.useFakeTimers.apply(sinon,arguments);return this.add(this.clock);},serverPrototype:sinon.fakeServer,useFakeServer:function wY(){var xa=this.serverPrototype||sinon.fakeServer;if(!xa||!xa.create){return null;};this.server=xa.create();return this.add(this.server);},inject:function(xb){sinon.collection.inject.call(this,xb);if(this.clock){xb.clock=this.clock;};if(this.server){xb.server=this.server;xb.requests=this.server.requests;};return xb;},restore:function(){sinon.collection.restore.apply(this,arguments);this.restoreContext();},restoreContext:function(){if(this.injectedKeys){for(var i=0,j=this.injectedKeys.length;i<j;i++ ){delete this.injectInto[this.injectedKeys[i]];};this.injectedKeys=[];};},create:function(xg){if(!xg){return sinon.create(sinon.sandbox);};var xf=wQ(xg);xf.args=xf.args||[];xf.injectedKeys=[];xf.injectInto=xg.injectInto;var xe,xd,xc=xf.inject({});if(xg.properties){for(var i=0,l=xg.properties.length;i<l;i++ ){xe=xg.properties[i];xd=xc[xe]||xe==fD&&xf;wP(xf,xg,xe,xd);};}else {wP(xf,xg,fD,xd);};return xf;}});sinon.sandbox.useFakeXMLHttpRequest=sinon.sandbox.useFakeServer;if(typeof module!==eK&&module.exports){module.exports=sinon.sandbox;};}());(function(xj){var xh=typeof module!==eK&&module.exports;if(!xj&&xh){xj=require(ce);};if(!xj){return;};function xi(xk){var xl=typeof xk;if(xl!=df){throw new TypeError(ev+xl);};return function(){var xo=xj.getConfig(xj.config);xo.injectInto=xo.injectIntoThis&&this||xo.injectInto;var xp=xj.sandbox.create(xo);var xm,xq;var xn=Array.prototype.slice.call(arguments).concat(xp.args);try{xq=xk.apply(this,xn);}catch(e){xm=e;};if(typeof xm!==bX){xp.restore();throw xm;}else {xp.verifyAndRestore();};return xq;};};xi.config={injectIntoThis:true,injectInto:null,properties:[eI,cS,da,P,du,gC],useFakeTimers:true,useFakeServer:true};if(xh){module.exports=xi;}else {xj.test=xi;};}(typeof sinon==gU&&sinon||null));(function(xu){var xr=typeof module!==eK&&module.exports;if(!xu&&xr){xu=require(ce);};if(!xu||!Object.prototype.hasOwnProperty){return;};function xt(xx,xw,xv){return function(){if(xw){xw.apply(this,arguments);};var xy,xz;try{xz=xx.apply(this,arguments);}catch(e){xy=e;};if(xv){xv.apply(this,arguments);};if(xy){throw xy;};return xz;};};function xs(xA,xG){if(!xA||typeof xA!=gU){throw new TypeError(bc);};xG=xG||fS;var xD=new RegExp(gx+xG);var xB={},xF,xH,xI;var xE=xA.setUp;var xC=xA.tearDown;for(xF in xA){if(xA.hasOwnProperty(xF)){xH=xA[xF];if(/^(setUp|tearDown)$/.test(xF)){continue;};if(typeof xH==df&&xD.test(xF)){xI=xH;if(xE||xC){xI=xt(xH,xE,xC);};xB[xF]=xu.test(xI);}else {xB[xF]=xA[xF];};};};return xB;};if(xr){module.exports=xs;}else {xu.testCase=xs;};}(typeof sinon==gU&&sinon||null));(function(xQ,xN){var xJ=typeof module!==bX&&module.exports;var xK=Array.prototype.slice;var xO;if(!xQ&&xJ){xQ=require(ce);};if(!xQ){return;};function xP(){var xS;for(var i=0,l=arguments.length;i<l; ++i){xS=arguments[i];if(!xS){xO.fail(er);};if(typeof xS!=df){xO.fail(xS+dI);};if(typeof xS.getCall!=df){xO.fail(xS+cj);};};};function xL(xU,xT){xU=xU||xN;var xV=xU.fail||xO.fail;xV.call(xU,xT);};function xR(name,xX,xW){if(arguments.length==2){xW=xX;xX=name;};xO[name]=function(yb){xP(yb);var ya=xK.call(arguments,1);var xY=false;if(typeof xX==df){xY=!xX(yb);}else {xY=typeof yb[xX]==df?!yb[xX].apply(yb,ya):!yb[xX];};if(xY){xL(this,yb.printf.apply(yb,[xW].concat(ya)));}else {xO.pass(name);};};};function xM(yc,yd){return !yc||/^fail/.test(yd)?yd:yc+yd.slice(0,1).toUpperCase()+yd.slice(1);};xO={failException:cW,fail:function ye(yf){var yg=new Error(yf);yg.name=this.failException||xO.failException;throw yg;},pass:function yi(yh){},callOrder:function yl(){xP.apply(null,arguments);var yj=ft,yk=ft;if(!xQ.calledInOrder(arguments)){try{yj=[].join.call(arguments,ee);var ym=xK.call(arguments);var i=ym.length;while(i){if(!ym[ --i].called){ym.splice(i,1);};};yk=xQ.orderByFirstCall(ym).join(ee);}catch(e){};xL(this,dH+yj+fQ+bG+yk);}else {xO.pass(gy);};},callCount:function yn(yp,yo){xP(yp);if(yp.callCount!=yo){var yq=hn+xQ.timesInWords(yo)+ec;xL(this,yp.printf(yq));}else {xO.pass(eP);};},expose:function yt(ys,yu){if(!ys){throw new TypeError(eN);};var o=yu||{};var yv=typeof o.prefix==bX&&dr||o.prefix;var yr=typeof o.includeFail==bX||!!o.includeFail;for(var yw in this){if(yw!=dz&&(yr||!/^(fail)/.test(yw))){ys[xM(yv,yw)]=this[yw];};};return ys;},match:function yA(yy,yz){var yx=xQ.match(yz);if(yx.test(yy)){xO.pass(C);}else {var yB=[dk,dB+xQ.format(yz),dK+xQ.format(yy)];xL(this,yB.join(el));};}};xR(bd,go);xR(D,function(yC){return !yC.called;},fy);xR(Q,eq);xR(gE,cp);xR(eO,V);xR(eE,dW);xR(cC,N);xR(eJ,bQ);xR(fV,cV);xR(bl,ez);xR(U,cw);xR(gs,eY);xR(gu,g);xR(ea,he);xR(bT,bD);xR(dX,eB);xR(gc,bC);xR(dJ,dq);xR(fm,eR);if(xJ){module.exports=xO;}else {xQ.assert=xO;};}(typeof sinon==gU&&sinon||null,typeof window!=bX?window:(typeof self!=bX)?self:global));return sinon;}.call(typeof window!=eK&&window||{}));this.sinon.assert.fail=function(yD){this.fail(yD,true);};var origSinon=this.sinon;var Sinon=qx.dev.unit.Sinon;Sinon.getSinon=function(){return origSinon;};}).call(this);})();

var exp = envinfo["qx.export"];
if (exp) {
  for (var name in exp) {
    var c = exp[name].split(".");
    var root = window;
    for (var i=0; i < c.length; i++) {
      root = root[c[i]];
    };
    window[name] = root;
  }
}

window["qx"] = undefined;
try {
  delete window.qx;
} catch(e) {}

})();